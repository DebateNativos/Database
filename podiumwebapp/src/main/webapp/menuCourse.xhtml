<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <title>PODIUM</title>
        <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"/>
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />
        <!-- Bootstrap 3.3.5 -->
        <h:outputStylesheet library="bootstrap" name="css/bootstrap.min.css"/>


        <h:outputStylesheet library="css" name="ionicons.min.css"/>
        <!-- Theme style -->
        <h:outputStylesheet library="dist" name="css/AdminLTE.min.css"/>
        <!-- AdminLTE Skins. Choose a skin from the css/skins
             folder instead of downloading all of them to reduce the load. -->
        <h:outputStylesheet library="dist" name="css/skins/_all-skins.min.css"/>
        <!-- iCheck -->
        <h:outputStylesheet library="plugins" name="iCheck/flat/blue.css"/>
        <!-- jvectormap -->
        <h:outputStylesheet library="plugins" name="jvectormap/jquery-jvectormap-1.2.2.css"/>
       
  
        <h:outputStylesheet library="plugins" name="bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css"/>
        <h:outputStylesheet library="css" name="nprogress.css"/>
        <style type="text/css">
            div[id="growl_container"] {
                top: 60px;
                z-index:1001; 
            }
            div[id="growl_container"] {
                position:absolute;
                top:60px;
                z-index:1001;
            }

            ::-webkit-scrollbar {
                width: 8px;
            }
            ::-webkit-scrollbar-button {
                width: 8px;
                height:5px;
            }
            ::-webkit-scrollbar-track {
                background:#eee;
                border: thin solid lightgray;
                box-shadow: 0px 0px 3px #3c8dbc inset;
                border-radius:10px;
            }
            ::-webkit-scrollbar-thumb {
                background:#3c8dbc;
                border: thin solid #3c8dbc;
                border-radius:10px;
            }
            ::-webkit-scrollbar-thumb:hover {
                background:#3c8dbc;
            }

        </style>

        <h:outputScript library="scripts" name="pfcrud.js"/>
        <h:outputStylesheet library="css" name="pfcrud.css"/>
    </h:head>

    <h:body class="hold-transition skin-blue sidebar-mini">

        <p:growl id="growl" life="3000"/>

        <p:dialog appendTo="@(body)" modal="true" resizable="false" closable="false" header="H" widgetVar="Loading" width="300">
            <center>
                <p:graphicImage value=""/>
            </center>
        </p:dialog>

        <ui:include src="Profile.xhtml"/>

        <p:dialog appendTo="@(body)" resizable="false" header="test" widgetVar="Chat" responsive="true" position="right,bottom" width="400px">
            <div class="col-md-12">
                <!-- DIRECT CHAT -->
                
            </div><!-- /.col -->
        </p:dialog>

        <div class="wrapper">

            <header class="main-header">
                <!-- Logo -->
                <a href="menuPrincipal.xhtml" class="logo">
                    <!-- mini logo for sidebar mini 50x50 pixels -->
                    <span class="logo-mini"><h3 style="font-size: 25px; font-weight: bold; align-content: center;">P</h3></span>
                    <!-- logo for regular state and mobile devices -->
                    <span class="logo-m"><h:graphicImage library="images" name="logo.png" /></span>
                </a>
                <!-- Header Navbar: style can be found in header.less -->
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                    <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
                        <span class="sr-only">Toggle navigation</span>
                    </a>
                    <div class="navbar-custom-menu">
                        <ul class="nav navbar-nav">

                          
                            
                            <!-- User Account: style can be found in dropdown.less -->
                            <li class="dropdown user user-menu">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                    <h:graphicImage library="dist" name="img/avatar2.png" class="user-image" alt="User Image"/>
                                    <span class="hidden-xs"></span>
                                </a>
                                <ul class="dropdown-menu">
                                    <!-- User image -->
                                    <li class="user-header">
                                        <h:graphicImage library="dist" name="img/avatar2.png" class="img-circle" alt="User Image"/>
                                        <p>
                                            <!-- Devolver aquí el usuario logeado-->
                                             #{login.user.name} #{login.user.lastName}
                                             <small>-Administrador-</small>
                                        </p>
                                    </li>
                                    <!-- Menu Body -->
                                  
                                    <li class="user-footer">
                                        <div class="pull-left">
                                            <!--                                            <a href="#" class="btn btn-default btn-flat">Profile</a>-->
                                            <h:form>
                                                <p:commandLink value="Ver perfil" styleClass="btn btn-default btn-flat" onclick="PF('ProfileDialog').show()"/>
                                            </h:form>
                                        </div>
                                        <div class="pull-right">
                                            <h:form>
                                                <p:commandLink style="color: white" value="Cerrar sesión" styleClass="btn btn-default btn-flat" action="#{login.logout()}">
                                                    <i class="fa fa-sign-out fa-lg"></i>
                                                    &nbsp;
                                                </p:commandLink>
                                            </h:form>
                                        </div>
                                    </li>

                                </ul>

                            </li>
                            <!-- Control Sidebar Toggle Button -->
                            <li>
                                <a href="#" data-toggle="control-sidebar"><i class="fa fa-gears"></i></a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </header>
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar">
                <h:form>
                    <!-- sidebar: style can be found in sidebar.less -->
                    <section class="sidebar" id="sidebar">
                        <!-- Sidebar user panel -->
                        <div class="user-panel">
                            <div class="pull-left image">
                                <h:graphicImage library="dist" name="img/avatar2.png" class="img-circle" alt="User Image"/>
                            </div>
                            <div class="pull-left info">
                                <p></p>
                                <a href="#" style="text-align: center; font-size: 12px; font-weight: bold" >PODIUM</a>
                            </div>
                        </div>
                      <ul class="sidebar-menu" id="sidebar-menu" style="height: 80%;width: 100%">
                            <li class="header" id="liHeader">Menú</li>
                            <h:panelGroup id="menuListGroup" class="sidebar-menu">
                              <ui:fragment >
                                        <li class="treeview" id="mainTree">
                                            <ui:fragment >
                                                <a >
                                                    <i class="fa fa-university" style="color:"></i>
                                                    <span>
                                                        Debates
                                                    </span>
                                                    <i class="fa fa-angle-left pull-right"></i>
                                                </a>
                                                
                                            <ul class="treeview-menu">
                                               
                                                       <ui:fragment >

                                                        <li >
                                                            <a href="menuStage.xhtml">
                                                                <i class="fa fa-file-text"></i>
                                                                Tipos de debates
                                                                <small class="label pull-right bg-aqua"></small>
                                                            </a>
                                                        </li>      

                                                    </ui:fragment>      
                                          
                                               
                                                       <ui:fragment >

                                                        <li >
                                                            <a href="menuDebate.xhtml">
                                                                <i class="fa fa-copy"></i>
                                                                Debates
                                                                <small class="label pull-right bg-aqua"></small>
                                                            </a>
                                                        </li>      

                                                    </ui:fragment>      
                                            
                                               
                                                         
                                            </ul>
                                           </ui:fragment>      
                                        </li>
                                    </ui:fragment>
                               <ui:fragment >
                                        <li class="treeview" id="mainTree">
                                            <ui:fragment >
                                                <a href="menuUser.xhtml">
                                                    <i class="fa fa-users" style="color:"></i>
                                                    <span>
                                                       Usuarios
                                                    </span>
                                                    
                                                </a>
                                            </ui:fragment>
                                            
                                        </li>
                                    </ui:fragment>
                                <ui:fragment >
                                        <li class="treeview" id="mainTree">
                                            <ui:fragment >
                                                <a href="menuCourse.xhtml">
                                                    <i class="fa fa-clipboard" style="color:"></i>
                                                    <span>
                                                       Cursos
                                                    </span>
                                                    
                                                </a>
                                            </ui:fragment>
                                          
                                        </li>
                                    </ui:fragment>

                               
                            </h:panelGroup>
                        </ul>
                        
                    </section>
                    <!-- /.sidebar -->
                </h:form>
            </aside>




            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                <!-- Content Header (Page header) -->
                <section class="content-header">

                    <h1>
                        Cursos
                        <small>Panel de control de curso</small>
                    </h1>
                    <h:panelGroup id="myDashBoard" class="breadcrumb">
                        <ol class="breadcrumb">

                            <li><a href="menuPrincipal.xhtml"><i class="fa fa-arrow-left"></i>Página Principal</a></li>

                            <li class="active">Cursos</li>

                        </ol>

                    </h:panelGroup>
                </section>

                <!-- Main content -->
                <section class="content">
                    <!--                    <ui:insert name="body"/>                   -->
           <h:panelGroup id="myPanel" layout="block">
                        <!--Crear-->
            <p:dialog id="CourseCreateDlg" widgetVar="CourseCreateDialog"  modal="true" appendTo="@(body)" resizable="false"  header="Nuevo">
            <h:form id="CourseCreateForm">
                <p:panelGrid columns="2">
                    <p:outputLabel value="Horario" for="schedule" />
                    <p:inputText id="code" value="#{courseBean.schedule}" required="true" requiredMessage="Debes ingresar el código" size="45" maxlength="45"/>

                    <p:outputLabel value="Cuatrimestre" for="Term" />
                    <p:inputText id="Term" value="#{courseBean.curseQuarter}"  required="true" requiredMessage="Ingresar el cuatrimeste actual" size="45" maxlength="45"/>

                    <p:outputLabel value="Nombre del curso" for="name" />
                    <p:inputText id="name" value="#{courseBean.name}" required="true" requiredMessage="Ingresar el nombre del curso"  size="50" maxlength="50"/>


                    <p:outputLabel value="Año" for="year" />
                    <p:inputText id="year" value="#{courseBean.curseYear}" required="true" requiredMessage="Ingresar el año"  size="50" maxlength="50"/>

                    <p:outputLabel value="Aula" for="classroom" />
                    <p:inputText id="classroom" value="#{courseBean.classroom}" required="true" requiredMessage="Ingresar el año"  size="50" maxlength="50"/>
                    
                   
                    <f:facet name="footer" >
                        <div class="footer-right">
                            
                            <p:commandButton icon="fa fa-pencil" styleClass="btn-success" value="Nuevo" actionListener="#{courseBean.newCourse()}" update=":form:msgs" />
                            <p:commandButton icon="fa fa-close" styleClass="btn-danger" value="Cancelar" onclick="PF('CourseCreateDialog').hide()" immediate="true" onstart="PF('Loading').show()" onsuccess="PF('Loading').hide()"/>
                        </div>
                    </f:facet>
                </p:panelGrid>
            </h:form>
        </p:dialog>
          <!--Editar-->
        
        <!--Ver-->
        
        
        <h:form id="form">
            <p:growl id="msgs" showDetail="true" />
            
            

            <p:dataTable id="dataList" var="course" value="#{login.course}" style="display:block; font: serif; font-size: 8px;" emptyMessage="No existe" paginator="true" widgetVar="dataTable" rows="10" editable="true" selectionMode="single" selection="#{courseBean.selectedCourse}" rowKey="#{course.idCourse}"  >

                <f:facet name="header" >
                    <p:commandButton id="toggler" type="button"  icon="ui-icon-calculator" style="float:right; width: 10px; height: 10px;" class="btn-primary"  />
                    <p:columnToggler datasource="dataList" trigger="toggler" />
                    <h:outputText value="Cursos"/>
                </f:facet>

                <p:column headerText="identificador" sortBy="#{course.idCourse}" filterBy="#{course.idCourse}"   filterMatchMode="contains" style=" height: 2%;" visible="false">
                       <h:outputText value="#{course.idCourse}" />
                </p:column>

                <p:column headerText="Cuatrimeste" sortBy="#{course.curseQuarter}" filterBy="#{course.curseQuarter}"   filterMatchMode="contains">
                    <h:outputText value="#{course.curseQuarter}" />
                </p:column>

                <p:column headerText="Nombre" sortBy="#{course.name}" filterBy="#{course.name}"   filterMatchMode="contains" >
                    <h:outputText value="#{course.name}" />
                </p:column>

                <p:column headerText="Año" sortBy="#{course.curseYear}" filterBy="#{course.curseYear}"  filterMatchMode="contains">
                    <h:outputText value="#{course.curseYear}" />
                </p:column>
                 
                <p:column headerText="Horario" sortBy="#{course.schedule}" filterBy="#{course.schedule}"  filterMatchMode="contains">
                    <h:outputText value="#{course.schedule}" />
                </p:column>
                
                <p:column headerText="Aula" sortBy="#{course.classroom}" filterBy="#{course.classroom}"  filterMatchMode="contains">
                    <h:outputText value="#{course.classroom}" />
                </p:column>
                
                
                <p:column headerText="Profesor" sortBy="#{course.professor.name}" filterBy="#{course.professor.name}"   filterMatchMode="contains">
                    <h:outputText value="#{course.professor.name}" />
                </p:column>

                <f:facet name="footer">

                    <p:commandButton styleClass="btn-success" icon="fa fa-list"  value="Nuevo" type="button" onclick="PF('CourseCreateDialog').show();" update=":form:msgs" />
                    <p:commandButton styleClass="btn-primary" icon="fa fa-pencil" value="Editar" type="button" onclick="PF('EditDialog').show();"   />
                    <p:commandButton value="Eliminar" icon="fa fa-trash"  actionListener="#{login.deleteCourse()}" update=":form:msgs" styleClass="btn-danger">
                                        <p:confirm header="Confirmación" message="¿Desea eleminar el usuario?" icon="ui-icon-alert" />
                                    </p:commandButton>
 
                                    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                        <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                                        <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                                    </p:confirmDialog>
                    
                </f:facet>
            </p:dataTable>
            </h:form>
        
            <p:dialog header="Editar" widgetVar="EditDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false" >
                <h:form id="editCourse">
                <p:outputPanel id="editDetail" style="text-align:center;">
                    <p:panelGrid  columns="2" >
                        <f:facet name="header">
                            <h1 >Curso </h1>
                        </f:facet>
                        <p:outputLabel value="Nombre:" for="name" />
                        <p:inplace>
                            <p:inputText id="name" value="#{courseBean.selectedCourse.name}" required="true" requiredMessage="Ingresar el año"  size="50" maxlength="50"/>
                        </p:inplace>
                        
                        <p:outputLabel value="Cuatrimestre:" for="Term" />
                        <p:inplace>
                            <p:inputText id="Term" type="number" value="#{courseBean.selectedCourse.curseQuarter}"  required="true" requiredMessage="Ingresar el cuatrimeste actual" size="45" maxlength="45"/>
                        </p:inplace>
                        
                         <p:outputLabel value="Aula" for="classroom" />
                          <p:inplace>
                    <p:inputText id="classroom" value="#{courseBean.classroom}" required="true" requiredMessage="Ingresar el año"  size="50" maxlength="50"/>
                     </p:inplace>

                        <p:outputLabel value="Año:" for="year" />
                        <p:inplace>
                            <p:inputMask id="year"  value="#{courseBean.selectedCourse.year}" required="true" requiredMessage="Ingresar el año"  size="50" maxlength="50" mask=""/>
                        </p:inplace>
                        <p:outputLabel value="Profesor" for="profesor" />
                        <p:selectOneMenu id="profesor" value=""  >
                        <f:selectItem itemLabel="Seleccione un profesor"/>
                        <f:selectItems value="" />
                        

                    </p:selectOneMenu>
                        

                        <f:facet name="footer" >
                            <div class="footer-right">

                                <p:commandButton icon="fa fa-pencil" styleClass="btn-success" value="Guardar" actionListener="#{courseBean.newCourse()}" update=":form:msgs" onsuccess="PF('EditCourseDialog').hide()"/>
                                <p:commandButton icon="fa fa-close" styleClass="btn-danger" value="Cancelar" onclick="PF('CourseCreateDialog').hide()"  immediate="true" />
                            </div>
                        </f:facet>
                    </p:panelGrid>
                </p:outputPanel>
                    </h:form>
            </p:dialog>
            
        
       
                    </h:panelGroup>
</section>
               </div><!-- /.content-wrapper -->

            <!-- Control Sidebar -->
            <aside class="control-sidebar control-sidebar-dark">
                <!-- Tab panes -->
                <div class="tab-content">
                    <!-- Home tab content -->
                    <div class="tab-pane" id="control-sidebar-home-tab">


                        <h3 class="control-sidebar-heading">Tasks Progress</h3>
                        <ul class="control-sidebar-menu">
                          
                            <li>
                                <a href="javascript::;">
                                    <h4 class="control-sidebar-subheading">
                                        Laravel Integration
                                        <span class="label label-warning pull-right">50%</span>
                                    </h4>
                                    <div class="progress progress-xxs">
                                        <div class="progress-bar progress-bar-warning" style="width: 50%"></div>
                                    </div>
                                </a>
                            </li>
                        </ul><!-- /.control-sidebar-menu -->

                    </div><!-- /.tab-pane -->

                </div>
            </aside>

            <!-- Add the sidebar's background. This div must be placed
                 immediately after the control sidebar -->
            <div class="control-sidebar-bg"></div>
        </div>
        <!-- ################################################################################ -->
        <h:outputScript library="bootstrap" name="js/bootstrap.min.js"/>
        <h:outputScript library="dist" name="js/app.js"/>
        <h:outputScript library="dist" name="js/demo.js"/>
        <h:outputScript library="scripts" name="nprogress.js"/>

        <script type="text/javascript">

            function start() {
                var cssClass = $("body").attr("class");
                NProgress.start(cssClass);
            }

            function finish() {
                NProgress.done();
            }

        </script>

        <!-- Page Loading Effect -->
        <script>var HN = [];
            HN.factory = function (e) {
                return function () {
                    HN.push([e].concat(Array.prototype.slice.call(arguments, 0)))
                };
            }, HN.on = HN.factory("on"), HN.once = HN.factory("once"), HN.off = HN.factory("off"), HN.emit = HN.factory("emit"), HN.load = function () {
                var e = "hn-button.js";
                if (document.getElementById(e))
                    return;
                var t = document.createElement("script");
                t.id = e, t.src = "//hn-button.herokuapp.com/hn-button.js";
                var n = document.getElementsByTagName("script")[0];
                n.parentNode.insertBefore(t, n)
            }, HN.load();



        </script>
        <!-- Page Loading Effect -->

        <!--        <script type="text/javascript">
        
        //            function resize() {
        //                var height = $(window).height();
        //                var userPanel = $(".user-panel").height();
        //                var mainHeader = $(".main-header").height();
        //                var liHeader = $("#liHeader").height();
        //                var margins = 13;
        //                var total = userPanel + mainHeader + liHeader + margins;
        //                var result = height - total;
        //                result = result + "px";
        //                $("#sidebar-menu").css("height", result);
        //                $("#sidebar-menu").css("overflow-y", "scroll");
        //            }
        
                    $(document).ready(function () {
                        $("#mainTree").addClass("active");
                        //resize();
                    });
        //
        //            $(window).on('resize', function () {
        //                resize();
        //            });
        
                    $(document).ready(function () {
                        $('li').on('click', function () {
                            $(this).siblings().removeClass('active');
                            $(this).addClass('active');
                        });
                    });
        
                </script>-->
        
        
       
    </h:body>
</html>

